<div class="container-lg py-4" th:fragment="main">
	<div class="row">
		<!-- μ¶μ„ μ΄λ²¤νΈ -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card shadow h-100 py-2"
				th:classappend="${checkedIn} ? 'border-left-success' : 'border-left-success'">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="mb-2 d-flex align-items-baseline">
								<span class="text-s font-weight-bold text-success text-uppercase mr-2">
									μ¤λμ μ¶μ„
								</span>
								<span class="text-s font-weight-bold text-gray-800"
									th:text="${#temporals.format(#temporals.createNow(), 'MMμ›” ddμΌ')}">
									μ”μΌ
								</span>
							</div>

							<div class="d-flex">
								<button th:if="${checkedIn}"
									class="btn btn-success btn-sm font-weight-bold shadow-sm mr-2" style="flex: 1"
									disabled>
									<i class="fas fa-check mr-1"></i>μ™„λ£
								</button>

								<button th:unless="${checkedIn}" id="btnCheckIn"
									class="btn btn-success btn-sm font-weight-bold shadow-sm mr-2" style="flex: 1">
									μ¶μ„ν•κΈ°
								</button>

								<a th:href="@{/attendance/detail}"
									class="btn btn-light btn-sm font-weight-bold text-gray-600 shadow-sm">
									<i class="fas fa-list-alt"></i> μƒμ„Έ
								</a>
							</div>
						</div>

						<div class="col-auto pl-2">
							<i class="fas fa-calendar-check fa-2x"
								th:classappend="${checkedIn} ? 'text-success' : 'text-gray-300'"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- λ³΄μ  ν¬μΈνΈ -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-primary shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-s font-weight-bold text-primary text-uppercase mb-1">
								λ‚΄ λ³΄μ  ν¬μΈνΈ
							</div>

							<div class="h5 mb-0 font-weight-bold text-gray-800"
								th:text="${#numbers.formatInteger(user.userProfile.pointBalance, 0, 'COMMA')} + ' P'">
								0 P
							</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-coins fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- μ¶μ ν• ν€΄μ¦ μ -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-info shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-s font-weight-bold text-info text-uppercase mb-1">
								λ‚΄κ°€ μ¶μ ν• ν€΄μ¦
							</div>
							<div th:text="${createdCount}" class="h5 mb-0 font-weight-bold text-gray-800">
								0
							</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-question-circle fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Pending Requests Card Example -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-warning shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-s font-weight-bold text-warning text-uppercase mb-1">
								λ‹¬μ„±ν• μ—…μ 
							</div>

							<div class="d-flex align-items-center">
								<div class="h5 mb-0 font-weight-bold text-gray-800 mr-3" th:text="${achievedCount}">
									0
								</div>

								<a th:href="@{/achievement}"
									class="btn btn-warning btn-sm font-weight-bold text-white shadow-sm">
									<i class="fas fa-trophy mr-1"></i>λ³΄λ¬κ°€κΈ°
								</a>
							</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-trophy fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<!-- Area Chart -->
		<div class="col-xl-8 col-lg-7">
			<div class="card shadow mb-4 h-100">
				<!-- β… h-100 μ¶”κ°€ -->
				<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
					<h6 class="m-0 font-weight-bold text-success">π† μ „μ²΄ μμ„</h6>
				</div>
				<div class="card-body d-flex flex-column">
					<!-- β… d-flex flex-column μ¶”κ°€ -->
					<div class="chart-area flex-grow-1">
						<!-- β… flex-grow-1 μ¶”κ°€ -->
						<div class="table-responsive">
							<table class="table table-hover">
								<thead>
									<tr style="background-color: #f8f9fc">
										<th style="width: 10%">μμ„</th>
										<th style="width: 50%">λ‹‰λ„¤μ„</th>
										<th style="width: 40%; text-align: right">μ΄ μ μ</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="userProfile, iter : ${topUsers}"
										th:style="${iter.count == 1} ? 'background-color: #fff3cd; font-weight: bold;' : ''">
										<td>
											<span class="badge"
												th:classappend="${iter.count == 1} ? 'badge-warning' : 'badge-light'"
												th:text="${iter.count}"></span>
										</td>
										<td>
											<i class="fas"
												th:classappend="${iter.count == 1} ? 'fa-crown text-warning' : (${iter.count == 2} ? 'fa-medal text-secondary' : 'fa-user-circle text-gray-400')"
												style="margin-right: 8px"></i>
											<strong th:text="${userProfile.username}"></strong>
										</td>
										<td style="text-align: right">
											<span class="text-primary font-weight-bold"
												th:text="${#numbers.formatInteger(userProfile.pointBalance, 0, 'COMMA')} + 'μ '"></span>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Pie Chart -->
		<div class="col-xl-4 col-lg-5">
			<div class="card shadow mb-4 h-100">
				<!-- β… h-100 μ¶”κ°€ -->
				<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
					<h6 class="m-0 font-weight-bold text-success">π“ λ‚΄ μ •λ‹µλ¥ </h6>
				</div>
				<div class="card-body d-flex flex-column">
					<div class="chart-area flex-grow-1" style="position: relative;">

						<canvas id="myPieChart"></canvas>

						<div id="centerText"
							style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 1s;">

							<h3 class="font-weight-bold m-0"
								th:with="total=${correctCount + wrongCount}, percent=${total > 0 ? (correctCount * 100 / total) : 0}"
								th:classappend="${percent >= 50} ? 'text-success' : 'text-danger'"
								th:text="${percent} + '%'">
								0%
							</h3>

						</div>

					</div>

					<div class="mt-4 text-center small">
						<span class="mr-3">
							<i class="fas fa-circle text-success"></i>
							μ •λ‹µ <strong th:text="${correctCount}">0</strong>κ°
						</span>
						<span>
							<i class="fas fa-circle text-danger"></i>
							μ¤λ‹µ <strong th:text="${wrongCount}">0</strong>κ°
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>